import{_ as b,g as D}from"./get-dashboards.action-BG0em3Ox.js";import{L as V,_ as B,o as g,c as y,a as u,H as C,d as $,p as x,h as d,i as A,t as w,f as I,e as l,K as N,F as L,b as h}from"./index-CozHna6C.js";import{s as F}from"./index-HRYNUPNB.js";import{u as K}from"./useQuery-w5Ei2Yfx.js";var T={root:{position:"relative"}},M={root:"p-chart"},q=V.extend({name:"chart",classes:M,inlineStyles:T}),U={name:"BaseChart",extends:F,props:{type:String,data:null,options:null,plugins:null,width:{type:Number,default:300},height:{type:Number,default:150},canvasProps:{type:null,default:null}},style:q,provide:function(){return{$pcChart:this,$parentInstance:this}}},E={name:"Chart",extends:U,inheritAttrs:!1,emits:["select","loaded"],chart:null,watch:{data:{handler:function(){this.reinit()},deep:!0},type:function(){this.reinit()},options:function(){this.reinit()}},mounted:function(){this.initChart()},beforeUnmount:function(){this.chart&&(this.chart.destroy(),this.chart=null)},methods:{initChart:function(){var t=this;B(()=>import("./auto-D-lioEmw.js"),[]).then(function(a){t.chart&&(t.chart.destroy(),t.chart=null),a&&a.default&&(t.chart=new a.default(t.$refs.canvas,{type:t.type,data:t.data,options:t.options,plugins:t.plugins})),t.$emit("loaded",t.chart)})},getCanvas:function(){return this.$canvas},getChart:function(){return this.chart},getBase64Image:function(){return this.chart.toBase64Image()},refresh:function(){this.chart&&this.chart.update()},reinit:function(){this.initChart()},onCanvasClick:function(t){if(this.chart){var a=this.chart.getElementsAtEventForMode(t,"nearest",{intersect:!0},!1),r=this.chart.getElementsAtEventForMode(t,"dataset",{intersect:!0},!1);a&&a[0]&&r&&this.$emit("select",{originalEvent:t,element:a[0],dataset:r})}},generateLegend:function(){if(this.chart)return this.chart.generateLegend()}}};function p(e){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(e)}function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?O(Object(a),!0).forEach(function(r){z(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function z(e,t,a){return(t=G(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function G(e){var t=H(e,"string");return p(t)=="symbol"?t:t+""}function H(e,t){if(p(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t||"default");if(p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q=["width","height"];function R(e,t,a,r,s,i){return g(),y("div",C({class:e.cx("root"),style:e.sx("root")},e.ptmi("root")),[u("canvas",C({ref:"canvas",width:e.width,height:e.height,onClick:t[0]||(t[0]=function(c){return i.onCanvasClick(c)})},P(P({},e.canvasProps),e.ptm("canvas"))),null,16,Q)],16)}E.render=R;const W={class:"card"},Z={class:"text-2xl font-bold"},J={class:"invisible"},S=$({__name:"BasicGraphic",props:{data:{},target:{}},setup(e){const t=e;x(()=>{i.value=m(),c.value=k()});const a=d([]),r=d([]),s=A(()=>(t.data&&t.data.length>0&&(t.data.forEach(n=>{const o=n.count;return o!==void 0?(a.value.push(o.toString()),a):[]}),t.data.forEach(n=>{const o=n.date;return o!==void 0?(r.value.push(o.toString()),r):[]})),"No data available"));console.log(a.value);const i=d(),c=d(),f=d();f.value={width:100,height:100};const m=()=>({labels:r.value,datasets:[{label:t.target,data:a.value,backgroundColor:["rgba(249, 115, 22, 0.2)","rgba(6, 182, 212, 0.2)","rgb(107, 114, 128, 0.2)","rgba(139, 92, 246 0.2)"],borderColor:["rgb(249, 115, 22)","rgb(6, 182, 212)","rgb(107, 114, 128)","rgb(139, 92, 246)"],borderWidth:1}]}),k=()=>{const n=getComputedStyle(document.documentElement),o=n.getPropertyValue("--p-text-color"),v=n.getPropertyValue("--p-text-muted-color"),_=n.getPropertyValue("--p-content-border-color");return{plugins:{legend:{labels:{color:o}}},scales:{x:{ticks:{color:v},grid:{color:_}},y:{beginAtZero:!0,ticks:{color:v},grid:{color:_}}}}};return(n,o)=>(g(),y(L,null,[u("div",W,[u("h3",Z,w(n.target),1),n.data&&n.data.length>0?(g(),I(l(E),{key:0,type:"bar",data:i.value,options:c.value,class:"w-[30rem]"},null,8,["data","options"])):N("",!0)]),u("div",J,w(s.value),1)],64))}}),X={class:"flex flex-row flex-wrap content-start mb-20"},Y={class:"flex justify-between"},j="dashboardAdm",nt=$({__name:"AdminView",setup(e){const{data:t}=K({queryKey:["dashboards",{module:j}],queryFn:async()=>await D(j)});return(a,r)=>{var s,i,c,f,m;return g(),y("div",null,[u("div",X,[h(b,{data:(s=l(t))==null?void 0:s.data.Venta_Total,"target-name":"Venta Total"},null,8,["data"]),h(b,{data:(i=l(t))==null?void 0:i.data.Inventario,"target-name":"Inventario"},null,8,["data"]),h(b,{data:(c=l(t))==null?void 0:c.data.Ordenes_del_Dia,"target-name":"Ordenes del Dia"},null,8,["data"])]),u("div",Y,[h(S,{class:"mr-10",data:(f=l(t))==null?void 0:f.data.Compra,target:"Compras"},null,8,["data"]),h(S,{class:"mr-10",data:(m=l(t))==null?void 0:m.data.Venta,target:"Ventas"},null,8,["data"])])])}}});export{nt as default};
