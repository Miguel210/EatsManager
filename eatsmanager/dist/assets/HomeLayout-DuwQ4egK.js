import{s as x}from"./index-Cesmw0zz.js";import{u as w}from"./auth.store-B6e0Byun.js";import{d,u as y,o as a,c as l,a as e,b as u,e as m,r as g,f as _,w as b,t as h,F as f,g as k,h as C,i as M,j as $}from"./index-CozHna6C.js";import{e as V}from"./index-HRYNUPNB.js";import{u as B}from"./useQuery-w5Ei2Yfx.js";import"./index-umGsnqLm.js";import"./index-DNJpqbx1.js";const E={class:"bg-red-400 p-2 pb-0"},S={class:"flex justify-between"},L=d({__name:"TopMenu",setup(s){const o=w(),t=y(),r=async()=>{o.logout()||t.replace("/auth")};return(p,n)=>(a(),l("div",E,[e("div",S,[n[0]||(n[0]=e("h1",{class:"text-3xl text-white font-bold"},"Forajidos Speakeasy",-1)),u(m(x),{label:"Salir",icon:"pi pi-sign-out",onClick:r})]),n[1]||(n[1]=e("div",{class:"flex"},[e("br")],-1))]))}}),F={class:"w-full flex items-center gap-x-1.5 group select-none cursor-pointer"},H={class:"group-hover:bg-white/10 w-full group-active:scale-95 self-stretch pl-2 rounded flex items-center space-x-2 transition-all duration-200 dark:group-hover:text-white dark:hover:text-white text-sm",href:"#"},I={class:"hover:text-black"},j=d({__name:"MenuItem",props:{name:{}},setup(s){return(o,t)=>{const r=g("router-link");return a(),_(r,{to:o.name},{default:b(()=>[e("div",F,[t[1]||(t[1]=e("div",{class:"w-1 rounded-xl h-8 bg-transparent transition-colors duration-200 relative overflow-hidden"},[e("div",{class:"absolute top-0 left-0 w-full h-[102%] translate-y-full group-hover:translate-y-0 bg-black transition-all duration-300"})],-1)),e("div",H,[t[0]||(t[0]=e("svg",{class:"h-5 w-5 group-hover:fill-black dark:fill-black transition-colors duration-200",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C21.9939 17.5203 17.5203 21.9939 12 22ZM12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C19.995 7.58378 16.4162 4.00496 12 4ZM17 13H11V7H13V11H17V13Z"})],-1)),e("span",I,h(o.name),1)])])]),_:1},8,["to"])}}}),A={class:"w-72 bg-red-400 min-h-full h-screen flex flex-col items-center pt-5 pb-2 space-y-7"},N={class:"w-full pr-3 flex flex-col gap-y-1 text-white fill-white text-sm"},R={key:0},Z=d({__name:"SideMenu",props:{isLoading:{type:Boolean},isError:{type:Boolean},dataInfo:{}},setup(s){return(o,t)=>(a(),l("aside",A,[e("div",N,[t[2]||(t[2]=e("div",{class:"font-QuicksandMedium pl-4 text-black text-xs text-[11px] uppercase"},"Menu",-1)),o.isLoading?(a(),l("p",R,"Cargando datos...")):o.isError?(a(),l(f,{key:1},[t[0]||(t[0]=e("p",null,"Error al cargar los datos",-1)),t[1]||(t[1]=e("p",null,"Porfavor de loguearse",-1))],64)):(a(!0),l(f,{key:2},k(o.dataInfo,r=>(a(),_(j,{key:r.id,name:r.name},null,8,["name"]))),128))])]))}}),q=async()=>{try{const{data:s}=await V.get("/auth/modules");return console.log(s),{...s}}catch(s){throw console.log(s),new Error("Error getting data")}},Q={class:"text-gray-800 bg-white"},T={class:"flex"},U=d({__name:"HomeLayout",setup(s){const{data:o,isLoading:t,isError:r}=B({queryKey:["getModules"],queryFn:()=>q()}),p=C([]),n=M(()=>{var c;return(c=o.value)!=null&&c.data&&o.value.data.length>0&&(p.value=o.value.data.map(i=>(console.log(i),{id:i.id,name:i.name}))),[]});return(c,i)=>{const v=g("RouterView");return a(),l("div",Q,[u(L),e("div",T,[u(Z,{"is-error":m(r),"is-loading":m(t),"data-info":p.value},null,8,["is-error","is-loading","data-info"]),u(v)]),$(" "+h(n.value),1)])}}});export{U as default};
