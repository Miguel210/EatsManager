import{s as _,a as I,b as g,c as P,d as S}from"./index-Bx1KvYza.js";import{_ as w}from"./DataTableBsic.vue_vue_type_style_index_0_lang-RuosC7ZF.js";import{u as $}from"./useQuery-w5Ei2Yfx.js";import{g as T}from"./get-suppliers.action-BPh8y0HW.js";import{e as V}from"./index-HRYNUPNB.js";import{d,h,i as A,o as p,c as D,b as r,e as o,a as F,t as k,f as B,w as n,j as y}from"./index-CozHna6C.js";import{g as N}from"./get-movements.action-Da-TsWoS.js";import{g as q}from"./jsPdf.config-xav44hqu.js";import{s as C}from"./index-Cesmw0zz.js";import"./index-Dud2RmUp.js";import"./index-DNJpqbx1.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BZ9jZdO6.js";import"./index-3DMY36XO.js";import"./index-umGsnqLm.js";const M=async s=>{if(s)try{await V.post("/supplier/Proveedor/deleted",{id:s})}catch(t){throw console.log(t),new Error(`Error deleting supplier by by id ${s}`)}},b="Proveedor/getAll",O=d({__name:"suppliersView",setup(s){const{data:t}=$({queryKey:["supplier",{module:b}],queryFn:()=>T(b)}),a=h([]),l=A(()=>{var i;return console.log(t),(i=t.value)!=null&&i.data&&t.value.data.length>0&&(a.value=t.value.data.map(e=>({id:e.id,fullname:e.person.fullname,description:e.person.typeperson.description,status:e.person.isActive}))),[]}),u=[{data:"fullname",title:"Nombre"},{data:"description",title:"Tipo"},{data:"status",title:"Estatus"}];return(i,e)=>(p(),D("div",null,[r(w,{"is-add":!0,routerLink:"/proveedor/proveedores/","is-delete":!0,functionDelete:o(M),"is-update":!0,columns:u,data:a.value,"table-width":"full",search:!0,pagination:!0},null,8,["functionDelete","data"]),F("div",null,k(l.value),1)]))}}),K=d({__name:"supplierOrderMenuView",setup(s){const{data:t}=$({queryKey:["movement"],queryFn:()=>N(!0)}),a=h([]),l=A(()=>{var i;return(i=t.value)!=null&&i.data&&t.value.data.length>0&&(a.value=t.value.data.map(e=>{var m,f,v;const c=String(e.date),[x]=c.split("T"),E=x.split(".")[0];return{id:e.id,document:e.documentId.description,invoiceFolio:((f=(m=e.supplierOrders)==null?void 0:m[0])==null?void 0:f.invoiceFolio)||"S/N",date:E.toString(),elaborate:(v=e.elaborateId)==null?void 0:v.person.fullname,person:e.personId.fullname,amount:e.amount,status:e.status,isActive:e.isActive}})),[]}),u=[{data:"document",title:"Documento"},{data:"invoiceFolio",title:"folio"},{data:"date",title:"Fecha"},{data:"elaborate",title:"Elaborado"},{data:"person",title:"Proveedor"},{data:"amount",title:"Cantidad"},{data:"isActive",title:"Estatus"}];return(i,e)=>(p(),D("div",null,[r(o(C),{severity:"danger",rounded:"",label:"Reporte",icon:"pi pi-file-pdf",onClick:e[0]||(e[0]=c=>o(q)(a.value,`Reporte-Movimientos-${new Date}`,"landscape"))}),r(w,{"is-add":!0,routerLink:"/Proveedor/orden/","is-delete":!1,"is-update":!0,columns:u,data:a.value,"table-width":"full",search:!0,pagination:!0},null,8,["data"]),F("div",null,k(l.value),1)]))}}),ae=d({__name:"suppliersMenuView",setup(s){return(t,a)=>(p(),B(o(S),{value:"0"},{default:n(()=>[r(o(I),null,{default:n(()=>[r(o(_),{value:"0"},{default:n(()=>a[0]||(a[0]=[y("Proveedores")])),_:1}),r(o(_),{value:"1"},{default:n(()=>a[1]||(a[1]=[y("Ordenes")])),_:1})]),_:1}),r(o(P),null,{default:n(()=>[r(o(g),{value:"0"},{default:n(()=>[r(O)]),_:1}),r(o(g),{value:"1"},{default:n(()=>[r(K)]),_:1})]),_:1})]),_:1}))}});export{ae as default};
