import{s as f,a as I,b as _,c as x,d as q}from"./index-Bx1KvYza.js";import{_ as w}from"./DataTableBsic.vue_vue_type_style_index_0_lang-RuosC7ZF.js";import{u as h}from"./useQuery-w5Ei2Yfx.js";import{e as g}from"./index-HRYNUPNB.js";import{g as C}from"./jsPdf.config-xav44hqu.js";import{s as T}from"./index-Cesmw0zz.js";import{d as v,h as E,i as b,o as n,c as d,e,F as k,b as i,j as y,t as A,D as N,f as F,w as l}from"./index-CozHna6C.js";import{g as M,a as P}from"./get-productTipes.action-BztCa42A.js";import"./index-Dud2RmUp.js";import"./index-DNJpqbx1.js";import"./_commonjsHelpers-BosuxZz1.js";import"./index-BZ9jZdO6.js";import"./index-3DMY36XO.js";import"./index-umGsnqLm.js";const D=async()=>{try{const{data:a}=await g.get("/product/");return{...a}}catch(a){throw console.log(a),new Error("Error getter data")}},V=async a=>{if(a)try{await g.post("/product/delete/",{id:a})}catch(r){throw console.log(r),new Error(`Error deleting product by id ${a}`)}},B={key:0},S={key:1},K=v({__name:"productMenuView",setup(a){const{data:r,isLoading:s,isError:p}=h({queryKey:["product"],queryFn:()=>D()}),u=E([]),m=b(()=>{var o;return(o=r.value)!=null&&o.data&&r.value.data.length>0&&(u.value=r.value.data.map(t=>({id:t.id,code:t.code,description:t.description,existence:t.existence,price:t.price,productTypeId:t.productTypeId.description,categoryId:t.categoryId.categoryName,viewMenu:t.viewMenu,isActive:t.isActive,image:t.image}))),[]}),c=[{data:"code",title:"Codigo"},{data:"description",title:"Nombre"},{data:"existence",title:"Existencia"},{data:"price",title:"Precio"},{data:"productTypeId",title:"Tipo"},{data:"categoryId",title:"Categoria"},{data:"viewMenu",title:"Esta en menu?"},{data:"isActive",title:"Estatus"},{data:"image",title:"Imagen"}];return(o,t)=>(n(),d("div",null,[e(s)?(n(),d("p",B,"Cargando datos...")):e(p)?(n(),d("p",S,"Error al cargar los datos")):(n(),d(k,{key:2},[i(e(T),{severity:"danger",rounded:"",label:"Reporte",icon:"pi pi-file-pdf",onClick:t[0]||(t[0]=$=>e(C)(u.value,`Reporte-Productos-${new Date}`,"landscape"))}),i(w,{"is-add":!0,"router-link":"/producto/productos/","is-delete":!0,"function-delete":e(V),"is-update":!0,columns:c,data:u.value,"table-width":"full",search:!0,pagination:!0},null,8,["function-delete","data"]),y(" "+A(m.value),1)],64))]))}}),L=async a=>{if(a)try{await g.post("/category/delete/",{id:a})}catch(r){throw console.log(r),new Error(`Error deleting category by id ${a}`)}},R={key:0},j={key:1},O=v({__name:"categoryMenuVIew",setup(a){const{data:r,isLoading:s,isError:p}=h({queryKey:["category"],queryFn:()=>M()}),u=E([]),m=b(()=>{var o;return(o=r.value)!=null&&o.data&&r.value.data.length>0&&(u.value=r.value.data.map(t=>({id:t.id,categoryName:t.categoryName,isActive:t.isActive}))),[]}),c=[{data:"categoryName",title:"Nombre"},{data:"isActive",title:"Estatus"}];return(o,t)=>(n(),d("div",null,[e(s)?(n(),d("p",R,"Cargando datos...")):e(p)?(n(),d("p",j,"Error al cargar los datos")):(n(),d(k,{key:2},[i(w,{"is-add":!0,"router-link":"/producto/categorias/","is-delete":!0,functionDelete:e(L),"is-update":!0,columns:c,data:u.value,"table-width":"full",search:!0,pagination:!0},null,8,["functionDelete","data"]),y(" "+A(m.value),1)],64))]))}}),Q=async a=>{if(a)try{await g.post("/producttype/delete/",{id:a})}catch(r){throw console.log(r),new Error(`Error deleting productType by id ${a}`)}},z={key:0},G={key:1},H=v({__name:"productTypeMenuView",setup(a){const{data:r,isLoading:s,isError:p}=h({queryKey:["productType"],queryFn:()=>P()}),u=E([]),m=b(()=>{var o;return(o=r.value)!=null&&o.data&&r.value.data.length>0&&(u.value=r.value.data.map(t=>({id:t.id,description:t.description,isActive:t.isActive,useStock:t.useStock}))),[]}),c=[{data:"description",title:"Nombre"},{data:"useStock",title:"usa Stock?"},{data:"isActive",title:"Estatus"}];return(o,t)=>(n(),d("div",null,[e(s)?(n(),d("p",z,"Cargando datos...")):e(p)?(n(),d("p",G,"Error al cargar los datos")):(n(),d(k,{key:2},[i(w,{"is-add":!0,"router-link":"/producto/tipos/","is-delete":!0,"function-delete":e(Q),"is-update":!0,columns:c,data:u.value,"table-width":"full",search:!0,pagination:!0},null,8,["function-delete","data"]),y(" "+A(m.value),1)],64))]))}}),J=async()=>{try{const{data:a}=await g.get("/inventory/Inventario/getall");return console.log(a),{...a}}catch(a){throw console.log(a),new Error("Error getter data")}},U={key:0},W={key:1},X=v({__name:"inventoryMenuView",setup(a){const{data:r,isLoading:s,isError:p}=h({queryKey:["inventory"],queryFn:()=>J()}),u=E([]);N(()=>{var c;return(c=r.value)!=null&&c.data&&r.value.data.length>0&&(u.value=r.value.data.map(o=>{var t,$;return console.log(o),{document:o.movement.document.description,folio:(($=(t=o.movement.supplierOrders)==null?void 0:t[0])==null?void 0:$.invoiceFolio)||"S/N",product:o.product.description,quantity:o.quantity}})),[]});const m=[{data:"document",title:"Documento"},{data:"folio",title:"Folio"},{data:"product",title:"Producto"},{data:"quantity",title:"Cantidad"}];return(c,o)=>(n(),d("div",null,[e(s)?(n(),d("p",U,"Cargando datos...")):e(p)?(n(),d("p",W,"Error al cargar los datos")):(n(),d(k,{key:2},[i(e(T),{severity:"danger",rounded:"",label:"Reporte",icon:"pi pi-file-pdf",onClick:o[0]||(o[0]=t=>e(C)(u.value,`Reporte-Movimientos-Inventario-${new Date}`,"landscape"))}),i(w,{"is-add":!1,"is-delete":!1,"is-update":!1,columns:m,data:u.value,"table-width":"full",search:!0,pagination:!0},null,8,["data"])],64))]))}}),pt=v({__name:"productView",setup(a){return(r,s)=>(n(),F(e(q),{value:"0"},{default:l(()=>[i(e(I),null,{default:l(()=>[i(e(f),{value:"0"},{default:l(()=>s[0]||(s[0]=[y("Productos")])),_:1}),i(e(f),{value:"1"},{default:l(()=>s[1]||(s[1]=[y("Categorias")])),_:1}),i(e(f),{value:"2"},{default:l(()=>s[2]||(s[2]=[y("Tipos de productos")])),_:1}),i(e(f),{value:"3"},{default:l(()=>s[3]||(s[3]=[y("Movimientos de Inventario")])),_:1})]),_:1}),i(e(x),null,{default:l(()=>[i(e(_),{value:"0"},{default:l(()=>[i(K)]),_:1}),i(e(_),{value:"1"},{default:l(()=>[i(O)]),_:1}),i(e(_),{value:"2"},{default:l(()=>[i(H)]),_:1}),i(e(_),{value:"3"},{default:l(()=>[i(X)]),_:1})]),_:1})]),_:1}))}});export{pt as default};
